---
layout: post
title: "[작성중] Swift 프로토콜(Protocol) 정리"
image:
categories: Swift
tags: 
  - Protocol
  - Delegation pattern
sitemap:
  changefreq: daily
  priority: 1.0
---

## 프로토콜이란

스위프트의 프로토콜은 자바의 인터페이스와 유사한 개념입니다.

구조체, 클래스, 열거형은 프로토콜을 "채택"하여 프로토콜의 요구사항을 구현합니다

쉽게 말하자면 코드의 청사진 혹은 outline을 강제하는 기능입니다.

어떤 프로젝트의 일부를 외주를 맡길 때 이런 프로토콜로 메서드, 프로퍼티의 이름, 반환타입 등을 강제할 수 있습니다.

---



## 프로토콜 채택

### 프로토콜의 정의

프로토콜은 class, struct, enum 등과 정의 방식이 비슷합니다.

```swift
protocol Addable {
	func add() -> Int 
}
```

위와 같은 형식으로 프로토콜을 정의할 수 있습니다.

### 프로토콜의 채택

```swift
class Number: Addable {
	func add() -> Int {
	  //프로토콜을 준수하기 위해 add함수의 이름과 반환형을 맞춰주어야 합니다
  }
}
```

위와 같은 형식으로 프로토콜을 채택하여 이용할 수 있습니다.

여러개의 프로토콜을 ","로 구분하여 채택할수도 있습니다

만약 상속을 받은 class라면 부모 클래스를 프로토콜 앞에 적어주어 해결할 수 있습니다.

---



## 프로토콜 요구사항

### 기본적 요구사항

프로토콜은 채택한 타입이 어떤 프로퍼티, 메서드를 구현해야하는지를 요구할 수 있습니다.

```swift
protocol SomeProtocol {
  var settableProperty: String { get set }
  var notNeedToBeSettableProperty: String { get }
  func someFunctioin()
}
```

get만 적어준 프로퍼티는 읽기전용으로 구현할수도, 읽기 쓰기가 모두 가능하게도 구현할 수 있습니다.

하지만 get과 set을 모두 적어준 프로퍼티는 반드시 읽고 쓰기가 가능하게 구현해야합니다. (읽기 전용으로 구현할 수 없습니다.)



>  제 상식으로는 get만 적어준 경우도 마찬가지의 논리로 "읽기 전용으로만" 구현해야 되도록 강제하는게 맞다고 보는데 어떠한 이유로 이런 방식을 택했는지는 잘 모르겠습니다. (후에 알게되면 수정하겠습니다.)



또 알아두어야 할 점은 프로토콜의 변수는 항상 `var `키워드를 사용한 변수 프로퍼티만 사용할 수 있다는 점입니다.

프로토콜을 이용해 상수 프로퍼티의 구현을 강제할 수 없습니다.

<br/> 

### Static 메서드의 요구

static 메서드 혹은 class 메서드를 구현할 것을 요구하고 싶다면

static 키워드를 이용해 프로토콜에 구현해 놓으면 됩니다.

프로토콜을 채택한 타입은 static 메서드, class 메서드 중 택하여 구현할 수 있습니다.

<br/> 

### Mutating 메서드의 요구

참조타입인 클래스의 메서드는 프로토콜에서 메서드가 mutating임을 지시해주지 않아도 mutating 키워드를 붙여서 이용할 수 있습니다. 

하지만 구조체와 열거형의 경우 프로토콜에 mutating 키워드를 사용하지 않은 메서드에 대해 mutating 메서드로의 전환이 불가능합니다.

<br/> 

### Initializer의 요구

이 파트는 이니셜라이저와 상속에 대해 빠삭해진 뒤에 다시 이어 작성하겠습니다

상속, 이니셜라이저 정리 포스팅이 업로드 된 뒤에도 이 상태라면 댓글로 알려주시면 감사하겠습니다 😅

---

## 프로토콜의 상속과 클래스 전용 프로토콜



---

## 프로토콜 조합과 프로토콜 준수 확인



---

## 프로토콜의 선택적 요구



---

## 프로토콜 변수와 상수



---

## 위임을 위한 프로토콜



공부하며 본 글들

[이동건님의 프로토콜 정리글](https://baked-corn.tistory.com/24)

[devmjun님의 프로토콜 정리글](https://devmjun.github.io/archive/Protocol_Extension)

