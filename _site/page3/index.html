<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="ugz2fe-5J_-AwkMUXXGkZD1yCD9jV00N7EX9IJxY10I" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="description" content="Write code with my soul.">
    <meta name="keywords" content="iOS 공부일지">
    <meta name="theme-color" content="#000000">
    <meta  property="fb:app_id"  content="466840033890778"/>
<meta property="fb:admins"  content="466840033890778"/>

    <!-- Open Graph -->
    <meta property="og:title"
        content="Neph's iOS blog">
    
    <meta property="og:type" content="website">
    <meta property="og:description"
        content="「Neph의 iOS 공부일지」">
    
    <meta property="og:image" content="http://localhost:4000/assets/logo.ico/apple-icon.png">
    <meta property="og:url" content="http://localhost:4000/page3/">
    <meta property="og:site_name" content="Neph's iOS blog">

    <title>Neph's iOS blog</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/assets/favicon.ico">

    <!-- Canonical URL -->
    <link rel="canonical" href="http://localhost:4000/page3/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href=" /css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href=" /css/hux-blog.min.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"
        type="text/css">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>

<!-- hack iOS CSS :active style -->
<head>
  <meta name="google-site-verification" content="ugz2fe-5J_-AwkMUXXGkZD1yCD9jV00N7EX9IJxY10I" />
</head>

<body ontouchstart="">
    <!-- Navigation -->

    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Neph's Blog</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div id="huxblog_navbar">
                <div class="navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="/">Home</a>
                        </li>
                        
                        
                        
                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                        
                        
                        <li>
                            <a href="/archive/">Archive</a>
                        </li>
                        
                        
                        
                        <li>
                            <a href="/category/">Category</a>
                        </li>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <li class="search-icon">
                            <a href="javascript:void(0)">
                                <i class="fa fa-search"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <script>
        // Drop Bootstarp low-performance Navbar
        // Use customize navbar with high-quality material design animation
        // in high-perf jank-free CSS3 implementation
        var $body = document.body;
        var $toggle = document.querySelector('.navbar-toggle');
        var $navbar = document.querySelector('#huxblog_navbar');
        var $collapse = document.querySelector('.navbar-collapse');

        var __HuxNav__ = {
            close: function () {
                $navbar.className = " ";
                // wait until animation end.
                setTimeout(function () {
                    // prevent frequently toggle
                    if ($navbar.className.indexOf('in') < 0) {
                        $collapse.style.height = "0px"
                    }
                }, 400)
            },
            open: function () {
                $collapse.style.height = "auto"
                $navbar.className += " in";
            }
        }

        // Bind Event
        $toggle.addEventListener('click', function (e) {
            if ($navbar.className.indexOf('in') > 0) {
                __HuxNav__.close()
            } else {
                __HuxNav__.open()
            }
        })

        /**
         * Since Fastclick is used to delegate 'touchstart' globally
         * to hack 300ms delay in iOS by performing a fake 'click',
         * Using 'e.stopPropagation' to stop 'touchstart' event from 
         * $toggle/$collapse will break global delegation.
         * 
         * Instead, we use a 'e.target' filter to prevent handler
         * added to document close HuxNav.  
         *
         * Also, we use 'click' instead of 'touchstart' as compromise
         */
        document.addEventListener('click', function (e) {
            if (e.target == $toggle) return;
            if (e.target.className == 'icon-bar') return;
            __HuxNav__.close();
        })
    </script>
    <!-- Search -->
<div class="search-page">
  <div class="search-icon-close-container">
    <span class="search-icon-close">
      <i class="fa fa-chevron-down"></i>
    </span>
  </div>
  <div class="search-main container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <form></form>
        <input type="text" id="search-input" placeholder="$ grep...">
        </form>
        <div id="search-results" class="mini-post-list"></div>
      </div>
    </div>
  </div>
</div>
    <!-- Page Header -->







<header class="intro-header" style="background-image: url('/assets/background.jpg')">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        
        <div class="site-heading">
        
          <h1>Neph's Blog</h1>
          <span class="subheading">「Neph의 iOS 공부일지」</span>
        </div>
      </div>
    </div>
  </div>
</header>

<head>
  <meta name="google-site-verification" content="ugz2fe-5J_-AwkMUXXGkZD1yCD9jV00N7EX9IJxY10I" />
</head>
<!-- Main Content -->
<div class="container">
	<div class="row">
        

<!-- USE SIDEBAR -->
    <!-- PostList Container -->
    		<div class="
                col-lg-8 col-lg-offset-1
                col-md-8 col-md-offset-1
                col-sm-12
                col-xs-12
                postlist-container
            ">
    			<head>
    <meta name="google-site-verification" content="ugz2fe-5J_-AwkMUXXGkZD1yCD9jV00N7EX9IJxY10I" />
</head>

<div class="post-preview">
    <a href="/ios/UIViewAnimate/">
        <h2 class="post-title">
            UIView animation, animateKeyframes 정리
        </h2>
        
        <div class="post-content-preview">
            
            UIview.animate, UIView.transition 메서드

animate(withDuration: delay:usingSpringWithDamping:initialSpringVelocity options: animations:completion:)


  애니메이션이 진행될 시간값인 duration
  completion block은 애니메...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on August
        25, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/ios/frameBoundsTransform/">
        <h2 class="post-title">
            frame, bounds, transform 정리 요약
        </h2>
        
        <div class="post-content-preview">
            
            Frame

정의: superview의 좌표계를 기준으로 설정되는 view의 위치


  좌표의 원점은 좌상단 꼭지점
  superview의 bounds의 (0, 0)부터 떨어진 위치가 origin
  view가 rotate되었다면 rotate된 뷰를 감싸는 minimum한 직사각형이 해당 view의 frame이 됨

즉, View B의 frame은 ...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on August
        22, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/ios/UIViewAnimationTroubleShooting/">
        <h2 class="post-title">
            UIView animation 트러블슈팅
        </h2>
        
        <div class="post-content-preview">
            
            트러블슈팅 지점

animate 메서드를 통해 이미지를 기존의 위치(A)로부터 새로운 위치(A’)으로 이동하는 애니메이션을 구현하려고 했었다.

근데 자꾸 애니메이션 시작 버튼을 누르니까 이미지가 A’위치로 순간이동한 상태에서 A위치로 돌아오는 현상이 일어났다.

대체 왜지? 싶어서 구글링을 통해 예제코드들을 봤는데도 뭐가 다른지 알 수 없었다.

해...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on August
        21, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/ios/prepareBackground/">
        <h2 class="post-title">
            [요약] Preparing Your UI to Run in the Background
        </h2>
        
        <div class="post-content-preview">
            
            개요


  앱은 여러 이유로 background 상태로 전환됨
  UIKit이 suspend하기 전에 앱은 background 상태로 가게 됨
  시스템은 앱을 directly하게 background 상태로 실행할 수 있음 (suspended 상태의 앱을 background로 보내는 것도 가능함)
  background 상태의 앱은 최소한의 일을 해...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on August
        20, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/ios/prepareForeground/">
        <h2 class="post-title">
            [번역] Preparing Your UI to Run in the Foreground
        </h2>
        
        <div class="post-content-preview">
            
            개요

앱의 UI가 화면에 띄워지는 것을 준비하기 위해 foreground 전환을 사용합니다. foreground로의 상태변환은 일반적으로 유저의 액션에 대한 응답입니다. 예를 들어 유저가 앱의 아이콘을 터치하면 시스템은 앱을 실행하고 foreground 상태로 만듭니다. 앱의 UI 업데이트, 리소스 요청, 유저의 요청을 핸들링하는 서비스의 시작을 위...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on August
        18, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/ios/ManagingAppLifeCycle/">
        <h2 class="post-title">
            [번역] Managing Your App's Life Cycle
        </h2>
        
        <div class="post-content-preview">
            
            이번 글에서는 Managing Your App’s Life Cycle 를 번역해보았습니다.

사실상 글의 정독이 목적이고 중요도가 떨어진다 생각되는 부분은 번역하지 않았으니 정확한 내용은 공식문서를 참조해주세요

개요

앱의 현재 상태는 현재 무엇을 할 수 있고 없는지를 결정하는 요소입니다. foreground 상태의 앱은 유저가 사용중인 앱이므로 시...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on August
        17, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/ios/WhatIsAppDelegate/">
        <h2 class="post-title">
            AppDelegate란?
        </h2>
        
        <div class="post-content-preview">
            
            이번 글에서는 appDelegate에 어떤 메서드들이 존재하고 어떤 것들을 담당하는지에 대해 다뤄보겠습니다.

다음 글에서 appDelegate과 sceneDelegate이 분리된 이유에 대해 다뤄보도록 하겠습니다.

UIApplicationDelegate

appDelegate는 앱을 구동할때 공유되는 행위를 관리하는 객체입니다.

appDelega...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on August
        16, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/%EC%9D%BC%EC%83%81/nextAppAndFutureStuff/">
        <h2 class="post-title">
            차기 개인앱 구상 및 해야할 일 정리
        </h2>
        
        <div class="post-content-preview">
            
            살까말까(지난 개인앱)를 통해 얻은 교훈


  제공할 컨텐츠를 손쉽게 api로 제공받을 수 있는지를 확인하자
    
      지난번 개인앱에서는 “상품의 랭킹정보”를 바탕으로 “해당 상품의 리뷰”를 제공하는것이 목적이었다.
이 과정에서 리뷰를 찾아주는 것은 검색 api를 통해 비교적 간단히 해결할 수 있었는데 (유튜브 api 할당량 관련 이슈 제...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on August
        3, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/swift/SwiftARCWeakStrongUnowned/">
        <h2 class="post-title">
            Swift weak, strong, unowned 정리
        </h2>
        
        <div class="post-content-preview">
            
            제가 Swift에서 weak이란 단어를 처음 본 것은 스토리보드에서 UI를 코드로 끌어왔을때였습니다.

자동으로 weak var 선언이 되는 것을 보며 그 이유가 궁금했었는데 이번글에서는 weak을 사용하는 이유, ARC 등에 대해 다루고자 합니다.

ARC란

인스턴스의 수명주기가 끝나는 시점(Reference Count가 0이 되는 시점)에 Swi...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on July
        28, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/swift/SwiftDictionaryKeyCheck/">
        <h2 class="post-title">
            Swift 딕셔너리 값이 존재하는지 확인하는 법
        </h2>
        
        <div class="post-content-preview">
            
            Dictionary에 특정 Key값이 존재하는지 확인하는 법

1
2
3
if myDictionary["key"] != nil {
	//...
}


메서드가 하나쯤 있을법 한데, 특별히 메서드를 지원하지는 않는다.

그냥 키값을 넣었을때 nil이 나오면 값이 없다고 판단할 수 있다.

가끔씩 이상하게 생각이 안나서 글 하나 업로드..


            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on July
        26, 2022
    </p>
</div>
<hr>


<!-- Pager -->

<ul class="pager">
    
    <li class="previous">
        <a href="/page2">&larr; Newer Posts</a>
    </li>
    
    
    <li class="next">
        <a href="/page4">Older Posts &rarr;</a>
    </li>
    
</ul>


<header class="site-category">
    <ul>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    </ul>
</header>
    		</div>
    <!-- Sidebar Container -->
            <div class="
                col-lg-3 col-lg-offset-0
                col-md-3 col-md-offset-0
                col-sm-12
                col-xs-12
                sidebar-container
            ">
                <!-- Featured Tags -->
                


<section>
    
    <h5><a href="/archive/">FEATURED TAGS</a></h5>
    <div class="tags">
        
            
        
            
            <a data-sort="0102"
                href="/archive/?tag=TIL" title="TIL"
                rel="37">TIL</a>
            
            
            
            <a data-sort="0126"
                href="/archive/?tag=%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C" title="운영체제"
                rel="13">운영체제</a>
            
            <a data-sort="0127"
                href="/archive/?tag=OS" title="OS"
                rel="12">OS</a>
            
            <a data-sort="0133"
                href="/archive/?tag=Yagom+Academy" title="Yagom Academy"
                rel="6">Yagom Academy</a>
            
            <a data-sort="0133"
                href="/archive/?tag=Yagom-Academy" title="Yagom-Academy"
                rel="6">Yagom-Academy</a>
            
            <a data-sort="0134"
                href="/archive/?tag=%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4" title="데이터베이스"
                rel="5">데이터베이스</a>
            
            <a data-sort="0134"
                href="/archive/?tag=collectionView" title="collectionView"
                rel="5">collectionView</a>
            
            <a data-sort="0134"
                href="/archive/?tag=iOS" title="iOS"
                rel="5">iOS</a>
            
            <a data-sort="0135"
                href="/archive/?tag=Projects" title="Projects"
                rel="4">Projects</a>
            
            <a data-sort="0135"
                href="/archive/?tag=Swift" title="Swift"
                rel="4">Swift</a>
            
            <a data-sort="0136"
                href="/archive/?tag=%EB%82%A0%EC%A7%9C+%EB%8B%A4%EB%A3%A8%EA%B8%B0" title="날짜 다루기"
                rel="3">날짜 다루기</a>
            
            <a data-sort="0136"
                href="/archive/?tag=Alamofire" title="Alamofire"
                rel="3">Alamofire</a>
            
            <a data-sort="0136"
                href="/archive/?tag=Date" title="Date"
                rel="3">Date</a>
            
            <a data-sort="0136"
                href="/archive/?tag=animation" title="animation"
                rel="3">animation</a>
            
            <a data-sort="0136"
                href="/archive/?tag=app+life+cycle" title="app life cycle"
                rel="3">app life cycle</a>
            
            <a data-sort="0137"
                href="/archive/?tag=%EA%B0%9C%EC%9D%B8%EC%95%B1" title="개인앱"
                rel="2">개인앱</a>
            
            <a data-sort="0137"
                href="/archive/?tag=%EC%82%B4%EA%B9%8C%EB%A7%90%EA%B9%8C" title="살까말까"
                rel="2">살까말까</a>
            
            <a data-sort="0137"
                href="/archive/?tag=%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98" title="알고리즘"
                rel="2">알고리즘</a>
            
            <a data-sort="0137"
                href="/archive/?tag=ARC" title="ARC"
                rel="2">ARC</a>
            
            <a data-sort="0137"
                href="/archive/?tag=AppDelegate" title="AppDelegate"
                rel="2">AppDelegate</a>
            
            <a data-sort="0137"
                href="/archive/?tag=BFS" title="BFS"
                rel="2">BFS</a>
            
            <a data-sort="0137"
                href="/archive/?tag=Notification" title="Notification"
                rel="2">Notification</a>
            
            <a data-sort="0137"
                href="/archive/?tag=RxSwift" title="RxSwift"
                rel="2">RxSwift</a>
            
            <a data-sort="0137"
                href="/archive/?tag=Scroll+View" title="Scroll View"
                rel="2">Scroll View</a>
            
            <a data-sort="0137"
                href="/archive/?tag=background" title="background"
                rel="2">background</a>
            
            <a data-sort="0137"
                href="/archive/?tag=enum" title="enum"
                rel="2">enum</a>
            
            <a data-sort="0137"
                href="/archive/?tag=foreground" title="foreground"
                rel="2">foreground</a>
            
            <a data-sort="0137"
                href="/archive/?tag=strong" title="strong"
                rel="2">strong</a>
            
            <a data-sort="0137"
                href="/archive/?tag=weak" title="weak"
                rel="2">weak</a>
    </div>
</section>


                <!-- Short About -->
                <section class="visible-md visible-lg">
  <hr>
  <h5><a href="/about/">ABOUT ME</a></h5>
  <div class="short-about">
    
    <img src="/assets/logo.ico/apple-icon.png" />
    
    
    <p>iOS를 공부하고 있는 Neph입니다 제 블로그가 여러분께 도움이 되었으면 좋겠습니다.</p>
    
    <!-- SNS Link -->
    


<ul class="list-inline">


  
  
  
  
  
  
  <li>
    <a target="_blank" href="https://github.com/neph3779">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
</ul>
  </div>
</section>

                <!-- Friends Blog -->
                
    		</div>
        
	</div>
</div>


    <!-- Channel Plugin Scripts -->

    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- SNS Link -->
                


<ul class="list-inline text-center">


  
  
  
  
  
  
  <li>
    <a target="_blank" href="https://github.com/neph3779">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
</ul>

                <p class="copyright text-muted">
                    Copyright &copy; Neph's Blog 2022
                    <br>
                    Powered by <a href="http://huangxuan.me">Hux Blog</a> |
                    <iframe style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0" width="100px"
                        height="20px"
                        src="https://ghbtns.com/github-btn.html?user=huxpro&repo=huxpro.github.io&type=star&count=true">
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src=" /js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<!-- Currently, only navbar scroll-down effect at desktop still depends on this -->
<script src=" /js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src=" /js/hux-blog.min.js "></script>

<!-- Simple Jekyll Search -->
<script src=" /js/simple-jekyll-search.min.js"></script>

<!-- Service Worker -->

<script src=" /js/snackbar.js "></script>
<script src=" /js/sw-registration.js "></script>


<!-- async load function -->
<script>
    function async(u, c) {
        var d = document, t = 'script',
            o = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        o.src = u;
        if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
        s.parentNode.insertBefore(o, s);
    }
</script>

<!--
     Because of the native support for backtick-style fenced code blocks
     right within the Markdown is landed in Github Pages,
     From V1.6, There is no need for Highlight.js,
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->









<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function () {
        var $nav = document.querySelector("nav");
        if ($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->

<script>
    // dynamic User by Hux
    var _gaId = 'UA-190717919-1';
    var _gaDomain = '';

    // Originial
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>



<!-- Baidu Tongji -->



<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog(selector) {

        // interop with multilangual 
        if ('' == 'true') {
            _containerSelector = 'div.post-container.active'
        } else {
            _containerSelector = 'div.post-container'
        }

        // init
        var P = $(_containerSelector), a, n, t, l, i, c;
        // a = P.find('h1,h2');
        a = P.find('h1,h2,h3,h4,h5,h6');

        // clean
        $(selector).html('')

        // appending
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>



<!-- Multi-Lingual -->


<!-- Simple Jekyll Search -->
<script>
    // https://stackoverflow.com/questions/1912501/unescape-html-entities-in-javascript
    function htmlDecode(input) {
        var e = document.createElement('textarea');
        e.innerHTML = input;
        // handle case of empty input
        return e.childNodes.length === 0 ? "" : e.childNodes[0].nodeValue;
    }

    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('search-results'),
        json: '/search.json',
        searchResultTemplate: '<div class="post-preview item"><a href="{url}"><h2 class="post-title">{title}</h2><h3 class="post-subtitle">{subtitle}</h3><hr></a></div>',
        noResultsText: 'No results',
        limit: 50,
        fuzzy: false,
        // a hack to get escaped subtitle unescaped. for some reason, 
        // post.subtitle w/o escape filter nuke entire search.
        templateMiddleware: function (prop, value, template) {
            if (prop === 'subtitle' || prop === 'title') {
                if (value.indexOf("code")) {
                    return htmlDecode(value);
                } else {
                    return value;
                }
            }
        }
    });

    $(document).ready(function () {
        var $searchPage = $('.search-page');
        var $searchOpen = $('.search-icon');
        var $searchClose = $('.search-icon-close');
        var $searchInput = $('#search-input');
        var $body = $('body');

        $searchOpen.on('click', function (e) {
            e.preventDefault();
            $searchPage.toggleClass('search-active');
            var prevClasses = $body.attr('class') || '';
            setTimeout(function () {
                $body.addClass('no-scroll');
            }, 400)

            if ($searchPage.hasClass('search-active')) {
                $searchClose.on('click', function (e) {
                    e.preventDefault();
                    $searchPage.removeClass('search-active');
                    $body.attr('class', prevClasses);  // from closure 
                });
                $searchInput.focus();
            }
        });
    });
</script>
    <!-- Image to hack wechat -->
    <img src="/assets/logo.ico/ms-icon-310x310.png" width="0" height="0" />
    <!-- Migrate from head to bottom, no longer block render and still work -->
</body>
</html>
