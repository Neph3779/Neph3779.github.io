<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="ugz2fe-5J_-AwkMUXXGkZD1yCD9jV00N7EX9IJxY10I" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="description" content="Write code with my soul.">
    <meta name="keywords" content="iOS 공부일지">
    <meta name="theme-color" content="#000000">
    <meta  property="fb:app_id"  content="466840033890778"/>
<meta property="fb:admins"  content="466840033890778"/>

    <!-- Open Graph -->
    <meta property="og:title"
        content="Neph's iOS blog">
    
    <meta property="og:type" content="website">
    <meta property="og:description"
        content="「Neph의 iOS 공부일지」">
    
    <meta property="og:image" content="http://localhost:4000/assets/logo.ico/apple-icon.png">
    <meta property="og:url" content="http://localhost:4000/page2/">
    <meta property="og:site_name" content="Neph's iOS blog">

    <title>Neph's iOS blog</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/assets/favicon.ico">

    <!-- Canonical URL -->
    <link rel="canonical" href="http://localhost:4000/page2/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href=" /css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href=" /css/hux-blog.min.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"
        type="text/css">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>

<!-- hack iOS CSS :active style -->
<head>
  <meta name="google-site-verification" content="ugz2fe-5J_-AwkMUXXGkZD1yCD9jV00N7EX9IJxY10I" />
</head>

<body ontouchstart="">
    <!-- Navigation -->

    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Neph's Blog</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div id="huxblog_navbar">
                <div class="navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="/">Home</a>
                        </li>
                        
                        
                        
                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                        
                        
                        <li>
                            <a href="/archive/">Archive</a>
                        </li>
                        
                        
                        
                        <li>
                            <a href="/category/">Category</a>
                        </li>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <li class="search-icon">
                            <a href="javascript:void(0)">
                                <i class="fa fa-search"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <script>
        // Drop Bootstarp low-performance Navbar
        // Use customize navbar with high-quality material design animation
        // in high-perf jank-free CSS3 implementation
        var $body = document.body;
        var $toggle = document.querySelector('.navbar-toggle');
        var $navbar = document.querySelector('#huxblog_navbar');
        var $collapse = document.querySelector('.navbar-collapse');

        var __HuxNav__ = {
            close: function () {
                $navbar.className = " ";
                // wait until animation end.
                setTimeout(function () {
                    // prevent frequently toggle
                    if ($navbar.className.indexOf('in') < 0) {
                        $collapse.style.height = "0px"
                    }
                }, 400)
            },
            open: function () {
                $collapse.style.height = "auto"
                $navbar.className += " in";
            }
        }

        // Bind Event
        $toggle.addEventListener('click', function (e) {
            if ($navbar.className.indexOf('in') > 0) {
                __HuxNav__.close()
            } else {
                __HuxNav__.open()
            }
        })

        /**
         * Since Fastclick is used to delegate 'touchstart' globally
         * to hack 300ms delay in iOS by performing a fake 'click',
         * Using 'e.stopPropagation' to stop 'touchstart' event from 
         * $toggle/$collapse will break global delegation.
         * 
         * Instead, we use a 'e.target' filter to prevent handler
         * added to document close HuxNav.  
         *
         * Also, we use 'click' instead of 'touchstart' as compromise
         */
        document.addEventListener('click', function (e) {
            if (e.target == $toggle) return;
            if (e.target.className == 'icon-bar') return;
            __HuxNav__.close();
        })
    </script>
    <!-- Search -->
<div class="search-page">
  <div class="search-icon-close-container">
    <span class="search-icon-close">
      <i class="fa fa-chevron-down"></i>
    </span>
  </div>
  <div class="search-main container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <form></form>
        <input type="text" id="search-input" placeholder="$ grep...">
        </form>
        <div id="search-results" class="mini-post-list"></div>
      </div>
    </div>
  </div>
</div>
    <!-- Page Header -->







<header class="intro-header" style="background-image: url('/assets/background.jpg')">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        
        <div class="site-heading">
        
          <h1>Neph's Blog</h1>
          <span class="subheading">「Neph의 iOS 공부일지」</span>
        </div>
      </div>
    </div>
  </div>
</header>

<head>
  <meta name="google-site-verification" content="ugz2fe-5J_-AwkMUXXGkZD1yCD9jV00N7EX9IJxY10I" />
</head>
<!-- Main Content -->
<div class="container">
	<div class="row">
        

<!-- USE SIDEBAR -->
    <!-- PostList Container -->
    		<div class="
                col-lg-8 col-lg-offset-1
                col-md-8 col-md-offset-1
                col-sm-12
                col-xs-12
                postlist-container
            ">
    			<head>
    <meta name="google-site-verification" content="ugz2fe-5J_-AwkMUXXGkZD1yCD9jV00N7EX9IJxY10I" />
</head>

<div class="post-preview">
    <a href="/ios/collectionViewCellHighlightLogic/">
        <h2 class="post-title">
            collectionView cell 눌렀을 때 cell 색상 변하게 하기
        </h2>
        
        <div class="post-content-preview">
            
            Cell을 눌렀을때 유저가 눌렀다는 인식을 받도록 하기

table view의 경우 cell을 누르면 cell이 회색으로 변하며 “눌렀다”라는 인상을 주기 쉽습니다.

하지만 collectionView cell은 마땅한 방법들이 안보여서 이것저것 시도해보고 제일 적당한 방법을 찾았기에 소개하려 합니다.



방법 1 (채택됨)

cell을 모두 덮는 ...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on September
        19, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/ios/cellHighlightvsSelect/">
        <h2 class="post-title">
            cell highlight와 select 차이
        </h2>
        
        <div class="post-content-preview">
            
            Highlight vs Select



Highlight의 경우 셀을 터치하고 있거나 스와이프하기만 해도 동작

반면 select는 터치하고 그 자리에서 손을 떼는 (일반적인 tap 동작) 동작에만 해당


  
    
      
      
    
  
  
    
      Highlight시에 cell에 변화를 준 경우
      Sel...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on September
        19, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/swift/ifCaseLet/">
        <h2 class="post-title">
            if case let 구문은 뭐고 언제 쓰는걸까?
        </h2>
        
        <div class="post-content-preview">
            
            Swift에서 가장 독특한 문법(?)

if case let 구문은 어떤 associated value를 가진 enum값을 분기처리하는 구문입니다.

1
2
3
4
5
6
7
8
9
10
11
12
13
enum ItemWrapper: Hashable {
  case category(ProductCategory)
  case product(Produc...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on September
        18, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/ios/DiffabelDatasource/">
        <h2 class="post-title">
            Diffable Datasource 요약
        </h2>
        
        <div class="post-content-preview">
            
            기존 datasource의 문제점


  index 기반의 배열접근 작업이기 때문에 잘못접근시 시스템 에러 발생
  datasource를 업데이트 하고 해당 위치의 cell을 “알맞게” 업데이트 해주어야하는 번거로움 존재
    
      만약 변경된 datasource와 맞지 않는 view 업데이트 작업 진행시 어김없이 에러 발생
      cel...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on September
        16, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/ios/CompositionalLayoutSectionProviderConfiguration/">
        <h2 class="post-title">
            Compositional Layout SectionProvider, Configuration
        </h2>
        
        <div class="post-content-preview">
            
            상황, 위치에 따라 다른 Layout을 보여주기


  CollectionView를 구성하다보면 상황에 따라 cell이 보여지는 형태(layout)를 바꾸고 싶은 경우가 종종 있음
    
      또는 하나의 CollectionView내의 서로 다른 section에 다양한 형태의 cell들이 보여지게 하고 싶음
    
  
  이를 기존 coll...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on September
        14, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/swift/mapFlatMapCompactMap/">
        <h2 class="post-title">
            Map, CompactMap, FlatMap
        </h2>
        
        <div class="post-content-preview">
            
            Map, CompactMap, FlatMap

Map



transform이라는 (Self.Element) throws -&gt; T 타입의 클로저를 인자로 받아 Sequence의 원소들을 차례대로 transform의 인자로 주어 나오는 결과값을 다시 배열로 묶어 반환해주는 인스턴스 메서드

“복잡도”는 O(n) 입니다. (공식문서상에 시간복잡도인지...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on September
        13, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/ios/CompositionalLayout-2/">
        <h2 class="post-title">
            UICollectionViewCompositionalLayout 정리 - 2
        </h2>
        
        <div class="post-content-preview">
            
            본 글은 Getting Started with UICollectionViewCompositionalLayout을 토대로 이해한 내용을 요약한 글입니다.

Supplementary Items

기존의 header 구현

1
2
3
4
5
6
7
8
9
10
11
extension PhotosDataSource: UICollectionViewDataSou...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on September
        10, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/ios/whyUseNSPrefix/">
        <h2 class="post-title">
            NS 접두사는 왜 붙이는걸까?
        </h2>
        
        <div class="post-content-preview">
            
            NS

NS는 Next Step의 약자입니다.

Next Step이란 회사의 코드를 애플이 사용하게 되면서 해당 코드들도 딸려온 것이죠.

근데 애플이 지금까지도 NS 키워드를 붙일 이유가 있을까요?

이유는 Objective-C가 C의 extension이기 때문에 C++에서처럼 namespace를 사용할 수 없습니다.

그렇기 때문에 unique한 ...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on September
        9, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/ios/CompositionalLayout-1/">
        <h2 class="post-title">
            UICollectionViewCompositionalLayout 정리 - 1
        </h2>
        
        <div class="post-content-preview">
            
            본 글은 Getting Started with UICollectionViewCompositionalLayout을 토대로 이해한 내용을 요약한 글입니다.

기존의 CollectionView 구현


  UICollectionViewFlowLayout을 사용
  UICollectionViewLayout을 subclassing


Cell에 간격 주기

1...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on September
        9, 2022
    </p>
</div>
<hr>

<div class="post-preview">
    <a href="/%EC%9D%BC%EC%83%81/2kLibraryContributer/">
        <h2 class="post-title">
            외부 라이브러리에 보낸 PR이 머지되었습니다.
        </h2>
        
        <div class="post-content-preview">
            
            CollectionViewPagingLayout

이번 MyBeerStory 프로젝트를 진행하다가 찾게된 라이브러리

extension에는 stored property를 사용할 수 없지만 sample 코드에 stored property로 사용되어 있길래

computed property로 바꿔달라는 PR을 보냈다.



그리고 몇시간 안지나서 바로 머...
            
        </div>
    </a>
    <p class="post-meta">
        Posted by Neph's Blog on September
        7, 2022
    </p>
</div>
<hr>


<!-- Pager -->

<ul class="pager">
    
    <li class="previous">
        <a href="/">&larr; Newer Posts</a>
    </li>
    
    
    <li class="next">
        <a href="/page3">Older Posts &rarr;</a>
    </li>
    
</ul>


<header class="site-category">
    <ul>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    </ul>
</header>
    		</div>
    <!-- Sidebar Container -->
            <div class="
                col-lg-3 col-lg-offset-0
                col-md-3 col-md-offset-0
                col-sm-12
                col-xs-12
                sidebar-container
            ">
                <!-- Featured Tags -->
                


<section>
    
    <h5><a href="/archive/">FEATURED TAGS</a></h5>
    <div class="tags">
        
            
        
            
            <a data-sort="0108"
                href="/archive/?tag=TIL" title="TIL"
                rel="37">TIL</a>
            
            
            
            <a data-sort="0132"
                href="/archive/?tag=%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C" title="운영체제"
                rel="13">운영체제</a>
            
            <a data-sort="0133"
                href="/archive/?tag=OS" title="OS"
                rel="12">OS</a>
            
            <a data-sort="0139"
                href="/archive/?tag=Yagom+Academy" title="Yagom Academy"
                rel="6">Yagom Academy</a>
            
            <a data-sort="0139"
                href="/archive/?tag=Yagom-Academy" title="Yagom-Academy"
                rel="6">Yagom-Academy</a>
            
            <a data-sort="0140"
                href="/archive/?tag=%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4" title="데이터베이스"
                rel="5">데이터베이스</a>
            
            <a data-sort="0140"
                href="/archive/?tag=collectionView" title="collectionView"
                rel="5">collectionView</a>
            
            <a data-sort="0140"
                href="/archive/?tag=iOS" title="iOS"
                rel="5">iOS</a>
            
            <a data-sort="0141"
                href="/archive/?tag=Projects" title="Projects"
                rel="4">Projects</a>
            
            <a data-sort="0141"
                href="/archive/?tag=Swift" title="Swift"
                rel="4">Swift</a>
            
            <a data-sort="0142"
                href="/archive/?tag=%EB%82%A0%EC%A7%9C+%EB%8B%A4%EB%A3%A8%EA%B8%B0" title="날짜 다루기"
                rel="3">날짜 다루기</a>
            
            <a data-sort="0142"
                href="/archive/?tag=Alamofire" title="Alamofire"
                rel="3">Alamofire</a>
            
            <a data-sort="0142"
                href="/archive/?tag=Date" title="Date"
                rel="3">Date</a>
            
            <a data-sort="0142"
                href="/archive/?tag=animation" title="animation"
                rel="3">animation</a>
            
            <a data-sort="0142"
                href="/archive/?tag=app+life+cycle" title="app life cycle"
                rel="3">app life cycle</a>
            
            <a data-sort="0143"
                href="/archive/?tag=%EA%B0%9C%EC%9D%B8%EC%95%B1" title="개인앱"
                rel="2">개인앱</a>
            
            <a data-sort="0143"
                href="/archive/?tag=%EC%82%B4%EA%B9%8C%EB%A7%90%EA%B9%8C" title="살까말까"
                rel="2">살까말까</a>
            
            <a data-sort="0143"
                href="/archive/?tag=%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98" title="알고리즘"
                rel="2">알고리즘</a>
            
            <a data-sort="0143"
                href="/archive/?tag=ARC" title="ARC"
                rel="2">ARC</a>
            
            <a data-sort="0143"
                href="/archive/?tag=AppDelegate" title="AppDelegate"
                rel="2">AppDelegate</a>
            
            <a data-sort="0143"
                href="/archive/?tag=BFS" title="BFS"
                rel="2">BFS</a>
            
            <a data-sort="0143"
                href="/archive/?tag=Notification" title="Notification"
                rel="2">Notification</a>
            
            <a data-sort="0143"
                href="/archive/?tag=RxSwift" title="RxSwift"
                rel="2">RxSwift</a>
            
            <a data-sort="0143"
                href="/archive/?tag=Scroll+View" title="Scroll View"
                rel="2">Scroll View</a>
            
            <a data-sort="0143"
                href="/archive/?tag=background" title="background"
                rel="2">background</a>
            
            <a data-sort="0143"
                href="/archive/?tag=enum" title="enum"
                rel="2">enum</a>
            
            <a data-sort="0143"
                href="/archive/?tag=foreground" title="foreground"
                rel="2">foreground</a>
            
            <a data-sort="0143"
                href="/archive/?tag=strong" title="strong"
                rel="2">strong</a>
            
            <a data-sort="0143"
                href="/archive/?tag=weak" title="weak"
                rel="2">weak</a>
    </div>
</section>


                <!-- Short About -->
                <section class="visible-md visible-lg">
  <hr>
  <h5><a href="/about/">ABOUT ME</a></h5>
  <div class="short-about">
    
    <img src="/assets/logo.ico/apple-icon.png" />
    
    
    <p>iOS를 공부하고 있는 Neph입니다 제 블로그가 여러분께 도움이 되었으면 좋겠습니다.</p>
    
    <!-- SNS Link -->
    


<ul class="list-inline">


  
  
  
  
  
  
  <li>
    <a target="_blank" href="https://github.com/neph3779">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
</ul>
  </div>
</section>

                <!-- Friends Blog -->
                
    		</div>
        
	</div>
</div>


    <!-- Channel Plugin Scripts -->

    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- SNS Link -->
                


<ul class="list-inline text-center">


  
  
  
  
  
  
  <li>
    <a target="_blank" href="https://github.com/neph3779">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
</ul>

                <p class="copyright text-muted">
                    Copyright &copy; Neph's Blog 2022
                    <br>
                    Powered by <a href="http://huangxuan.me">Hux Blog</a> |
                    <iframe style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0" width="100px"
                        height="20px"
                        src="https://ghbtns.com/github-btn.html?user=huxpro&repo=huxpro.github.io&type=star&count=true">
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src=" /js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<!-- Currently, only navbar scroll-down effect at desktop still depends on this -->
<script src=" /js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src=" /js/hux-blog.min.js "></script>

<!-- Simple Jekyll Search -->
<script src=" /js/simple-jekyll-search.min.js"></script>

<!-- Service Worker -->

<script src=" /js/snackbar.js "></script>
<script src=" /js/sw-registration.js "></script>


<!-- async load function -->
<script>
    function async(u, c) {
        var d = document, t = 'script',
            o = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        o.src = u;
        if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
        s.parentNode.insertBefore(o, s);
    }
</script>

<!--
     Because of the native support for backtick-style fenced code blocks
     right within the Markdown is landed in Github Pages,
     From V1.6, There is no need for Highlight.js,
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->









<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function () {
        var $nav = document.querySelector("nav");
        if ($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->

<script>
    // dynamic User by Hux
    var _gaId = 'UA-190717919-1';
    var _gaDomain = '';

    // Originial
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>



<!-- Baidu Tongji -->



<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog(selector) {

        // interop with multilangual 
        if ('' == 'true') {
            _containerSelector = 'div.post-container.active'
        } else {
            _containerSelector = 'div.post-container'
        }

        // init
        var P = $(_containerSelector), a, n, t, l, i, c;
        // a = P.find('h1,h2');
        a = P.find('h1,h2,h3,h4,h5,h6');

        // clean
        $(selector).html('')

        // appending
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>



<!-- Multi-Lingual -->


<!-- Simple Jekyll Search -->
<script>
    // https://stackoverflow.com/questions/1912501/unescape-html-entities-in-javascript
    function htmlDecode(input) {
        var e = document.createElement('textarea');
        e.innerHTML = input;
        // handle case of empty input
        return e.childNodes.length === 0 ? "" : e.childNodes[0].nodeValue;
    }

    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('search-results'),
        json: '/search.json',
        searchResultTemplate: '<div class="post-preview item"><a href="{url}"><h2 class="post-title">{title}</h2><h3 class="post-subtitle">{subtitle}</h3><hr></a></div>',
        noResultsText: 'No results',
        limit: 50,
        fuzzy: false,
        // a hack to get escaped subtitle unescaped. for some reason, 
        // post.subtitle w/o escape filter nuke entire search.
        templateMiddleware: function (prop, value, template) {
            if (prop === 'subtitle' || prop === 'title') {
                if (value.indexOf("code")) {
                    return htmlDecode(value);
                } else {
                    return value;
                }
            }
        }
    });

    $(document).ready(function () {
        var $searchPage = $('.search-page');
        var $searchOpen = $('.search-icon');
        var $searchClose = $('.search-icon-close');
        var $searchInput = $('#search-input');
        var $body = $('body');

        $searchOpen.on('click', function (e) {
            e.preventDefault();
            $searchPage.toggleClass('search-active');
            var prevClasses = $body.attr('class') || '';
            setTimeout(function () {
                $body.addClass('no-scroll');
            }, 400)

            if ($searchPage.hasClass('search-active')) {
                $searchClose.on('click', function (e) {
                    e.preventDefault();
                    $searchPage.removeClass('search-active');
                    $body.attr('class', prevClasses);  // from closure 
                });
                $searchInput.focus();
            }
        });
    });
</script>
    <!-- Image to hack wechat -->
    <img src="/assets/logo.ico/ms-icon-310x310.png" width="0" height="0" />
    <!-- Migrate from head to bottom, no longer block render and still work -->
</body>
</html>
